<app-timeline-toolbar
  [@toolbarAnimation]="scrollDirection"
  class="fixed"
  [title]="title"
  (searchItemChangedEmitter)="onSearchItemChanged($event)"
  (menuItemClickedEmitter)="onMenuItemClicked($event)"></app-timeline-toolbar>

<mat-sidenav-container class="sidenav-container" layout="column">
  <mat-sidenav *ngIf="media > mediaType.MEDIUM" #sidenavStart mode="side"
               position="start" opened="true"
               class="sidenav sidenav-start">
    <div [@toolbarAnimation]="scrollDirection">
      <app-filter-tag-list></app-filter-tag-list>
      <mat-divider></mat-divider>
      <app-filter-project-list [projects]="projectsFilter" [projectsNone]="projectsNone"
                               (filterProjectsEventEmitter)="onFilterProjects($event)"
                               (filterProjectsNoneEventEmitter)="onFilterProjectsNone($event)"></app-filter-project-list>
      <mat-divider></mat-divider>
      <app-filter-person-list [persons]="personsFilter" [personsNone]="personsNone"
                              (filterPersonsEventEmitter)="onFilterPersons($event)"
                              (filterPersonsNoneEventEmitter)="onFilterPersonsNone($event)"
      ></app-filter-person-list>
    </div>
  </mat-sidenav>

  <mat-sidenav *ngIf="media > mediaType.MEDIUM" #sidenavEnd mode="side"
               position="end" opened="true"
               class="sidenav sidenav-end">
    <div [@toolbarAnimation]="scrollDirection">
      <app-task-list (menuItemClickedEmitter)="onMenuItemClicked($event)"></app-task-list>
      <mat-divider></mat-divider>
      <app-project-list [projects]="projects" (upsertProjectEventEmitter)="onUpsertProject($event)"></app-project-list>
      <mat-divider></mat-divider>
      <app-tag-list (menuItemClickedEmitter)="onMenuItemClicked($event)"></app-tag-list>
      <mat-divider></mat-divider>
      <app-person-list [persons]="persons" (upsertPersonEventEmitter)="onUpsertPerson($event)"></app-person-list>
    </div>
  </mat-sidenav>

  <mat-sidenav-content cdkScrollable>
    <div class="content">
      <app-tasklet-list></app-tasklet-list>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>

<div class="date-indicator-wrapper" *ngIf="indicatedDate != null">
  <div class="flex"></div>
  <button mat-fab class="date-indicator" [@dateIndicatorAnimation]="scrollState" (click)="onDateIndicatorClicked()">
    <div class="day">{{ indicatedDay }}</div>
    <div class="month">{{ indicatedMonth }}</div>
  </button>
  <div class="flex"></div>
</div>

<button mat-fab class="fab" [@fabAnimation]="scrollDirection" (click)="onMenuItemClicked('add-tasklet')">
  <mat-icon svgIcon="add" class="icon-accent-contrast"></mat-icon>
</button>
