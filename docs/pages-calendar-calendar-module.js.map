{"version":3,"sources":["webpack:///./src/app/core/entity/model/quarterhour.model.ts","webpack:///./src/app/pages/calendar/calendar-routing.module.ts","webpack:///./src/app/pages/calendar/calendar.module.ts","webpack:///./src/app/pages/calendar/components/calendar-grid-day/calendar-grid-day.component.html","webpack:///./src/app/pages/calendar/components/calendar-grid-day/calendar-grid-day.component.scss","webpack:///./src/app/pages/calendar/components/calendar-grid-day/calendar-grid-day.component.ts","webpack:///./src/app/pages/calendar/components/calendar-grid-quarter-hour/calendar-grid-quarter-hour.component.html","webpack:///./src/app/pages/calendar/components/calendar-grid-quarter-hour/calendar-grid-quarter-hour.component.scss","webpack:///./src/app/pages/calendar/components/calendar-grid-quarter-hour/calendar-grid-quarter-hour.component.ts","webpack:///./src/app/pages/calendar/components/calendar-grid/calendar-grid.component.html","webpack:///./src/app/pages/calendar/components/calendar-grid/calendar-grid.component.scss","webpack:///./src/app/pages/calendar/components/calendar-grid/calendar-grid.component.ts","webpack:///./src/app/pages/calendar/components/calendar-item/calendar-item.component.html","webpack:///./src/app/pages/calendar/components/calendar-item/calendar-item.component.scss","webpack:///./src/app/pages/calendar/components/calendar-item/calendar-item.component.ts","webpack:///./src/app/pages/calendar/pages/calendar/calendar.component.html","webpack:///./src/app/pages/calendar/pages/calendar/calendar.component.scss","webpack:///./src/app/pages/calendar/pages/calendar/calendar.component.ts"],"names":[],"mappings":"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","file":"pages-calendar-calendar-module.js","sourcesContent":["/**\r\n * Represents fifteen minutes display in the calendar\r\n */\r\nexport class QuarterHour {\r\n\r\n  /** Start time */\r\n  start: Date;\r\n  /** End time */\r\n  end: Date;\r\n\r\n  /**\r\n   * Constructor\r\n   */\r\n  constructor() {\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {RouterModule, Routes} from '@angular/router';\r\nimport {CalendarComponent} from './pages/calendar/calendar.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CalendarComponent,\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class CalendarRoutingModule {\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {CalendarComponent} from './pages/calendar/calendar.component';\r\nimport {CalendarGridComponent} from './components/calendar-grid/calendar-grid.component';\r\nimport {CalendarGridDayComponent} from './components/calendar-grid-day/calendar-grid-day.component';\r\nimport {CalendarGridQuarterHourComponent} from './components/calendar-grid-quarter-hour/calendar-grid-quarter-hour.component';\r\nimport {CalendarItemComponent} from './components/calendar-item/calendar-item.component';\r\nimport {MaterialModule} from '../../ui/material/material.module';\r\nimport {CalendarRoutingModule} from './calendar-routing.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    MaterialModule,\r\n    CalendarRoutingModule\r\n  ],\r\n  declarations: [\r\n    CalendarComponent,\r\n    CalendarGridComponent,\r\n    CalendarGridDayComponent,\r\n    CalendarGridQuarterHourComponent,\r\n    CalendarItemComponent,\r\n  ], exports: [\r\n    CalendarComponent\r\n  ]\r\n})\r\n/**\r\n * Contains calendar page\r\n */\r\nexport class CalendarModule {\r\n}\r\n","module.exports = \"<div class=\\\"day-header\\\">\\r\\n  <span class=\\\"weekDay\\\">{{ weekDay }}</span>\\r\\n  <h1 class=\\\"date\\\">{{ date }}</h1>\\r\\n</div>\\r\\n\\r\\n<div>\\r\\n  <div class=\\\"underlay\\\">\\r\\n    <app-calendar-grid-quarter-hour *ngFor=\\\"let qh of quarterHours\\\" [quarterHour]=\\\"qh\\\">\\r\\n\\r\\n    </app-calendar-grid-quarter-hour>\\r\\n  </div>\\r\\n  <div class=\\\"overlay\\\">\\r\\n    <app-calendar-item *ngFor=\\\"let tasklet of tasklets\\\" [tasklet]=\\\"tasklet\\\"></app-calendar-item>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \"/**\\n * Applies styles for users in high contrast mode. Note that this only applies\\n * to Microsoft browsers. Chrome can be included by checking for the `html[hc]`\\n * attribute, however Chrome handles high contrast differently.\\n */\\n/* Theme for the ripple elements.*/\\n/* stylelint-disable material/no-prefixes */\\n/* stylelint-enable */\\n/**\\n * Applies styles for users in high contrast mode. Note that this only applies\\n * to Microsoft browsers. Chrome can be included by checking for the `html[hc]`\\n * attribute, however Chrome handles high contrast differently.\\n */\\n/* Theme for the ripple elements.*/\\n/* stylelint-disable material/no-prefixes */\\n/* stylelint-enable */\\n.day-header {\\n  border: #e0e0e0 1px solid;\\n  color: #009688; }\\n.underlay {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  z-index: 1; }\\n.time-step {\\n  height: 20px; }\\n.overlay {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  z-index: 2; }\\n\"","import {ChangeDetectionStrategy, Component, Input, OnInit} from '@angular/core';\r\nimport {QuarterHour} from '../../../../core/entity/model/quarterhour.model';\r\nimport {DateService} from '../../../../core/entity/services/date.service';\r\n\r\n/**\r\n * Displays calendar grid for a day\r\n */\r\n@Component({\r\n  selector: 'app-calendar-grid-day',\r\n  templateUrl: './calendar-grid-day.component.html',\r\n  styleUrls: ['./calendar-grid-day.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class CalendarGridDayComponent implements OnInit {\r\n\r\n  /** Focus day to be displayed */\r\n  @Input() focusDay = new Date();\r\n  /** Array of tasklet */\r\n  @Input() tasklets = [];\r\n\r\n  /** Weekday */\r\n  weekDay = '';\r\n  /** Date */\r\n  date = '';\r\n  /** Array of quarterhours */\r\n  quarterHours = [];\r\n\r\n  //\r\n  // Lifecycle hooks\r\n  //\r\n\r\n  /**\r\n   * Handles on-init lifecycle phase\r\n   */\r\n  ngOnInit() {\r\n    this.initializeDate();\r\n  }\r\n\r\n  //\r\n  // Initialization\r\n  //\r\n\r\n  /**\r\n   * Initializes date\r\n   */\r\n  private initializeDate() {\r\n    this.weekDay = DateService.getWeekDayString(this.focusDay.getDay());\r\n    this.date = this.focusDay.getDate().toString();\r\n\r\n    const dayStart = new Date(this.focusDay).setHours(0, 0, 0, 0);\r\n    let counter = 0;\r\n    while (counter < (24 * 4)) {\r\n      const start = new Date(new Date(dayStart).getTime() + (counter * 15 * 60000));\r\n      const end = new Date(new Date(dayStart).getTime() + ((counter + 1) * 15 * 60000));\r\n\r\n      const quaterHour = new QuarterHour();\r\n      quaterHour.start = start;\r\n      quaterHour.end = end;\r\n\r\n      this.quarterHours.push(quaterHour);\r\n      counter++;\r\n    }\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"quarter-hour time-step\\\">\\r\\n  <span *ngIf=\\\"quarterHour.start.getMinutes() === 0\\\">{{ startTime }}</span>\\r\\n</div>\\r\\n\"","module.exports = \"/**\\n * Applies styles for users in high contrast mode. Note that this only applies\\n * to Microsoft browsers. Chrome can be included by checking for the `html[hc]`\\n * attribute, however Chrome handles high contrast differently.\\n */\\n/* Theme for the ripple elements.*/\\n/* stylelint-disable material/no-prefixes */\\n/* stylelint-enable */\\n/**\\n * Applies styles for users in high contrast mode. Note that this only applies\\n * to Microsoft browsers. Chrome can be included by checking for the `html[hc]`\\n * attribute, however Chrome handles high contrast differently.\\n */\\n/* Theme for the ripple elements.*/\\n/* stylelint-disable material/no-prefixes */\\n/* stylelint-enable */\\n.quarter-hour {\\n  border: #e0e0e0 1px solid; }\\n.time-step {\\n  height: 20px; }\\n\"","import {ChangeDetectionStrategy, Component, Input, OnInit} from '@angular/core';\r\nimport {DateService} from '../../../../core/entity/services/date.service';\r\nimport {QuarterHour} from '../../../../core/entity/model/quarterhour.model';\r\n\r\n/**\r\n * Displays calendar grid element for a quarter hour\r\n */\r\n@Component({\r\n  selector: 'app-calendar-grid-quarter-hour',\r\n  templateUrl: './calendar-grid-quarter-hour.component.html',\r\n  styleUrls: ['./calendar-grid-quarter-hour.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class CalendarGridQuarterHourComponent implements OnInit {\r\n\r\n  /** Quarter hour to be displayed */\r\n  @Input() quarterHour: QuarterHour;\r\n\r\n  /** Start time */\r\n  startTime = '';\r\n\r\n  //\r\n  // Lifecycle hooks\r\n  //\r\n\r\n  /**\r\n   * Handles on-init lifecycle phase\r\n   */\r\n  ngOnInit() {\r\n    this.initializeStartTime();\r\n  }\r\n\r\n  //\r\n  // Initialization\r\n  //\r\n\r\n  /**\r\n   * Initializes start time\r\n   */\r\n  private initializeStartTime() {\r\n    if (this.quarterHour.start.getMinutes() === 0) {\r\n      this.startTime = DateService.getTimeString(this.quarterHour.start);\r\n    }\r\n  }\r\n}\r\n","module.exports = \"<app-calendar-grid-day [focusDay]=\\\"focusDay\\\" [tasklets]=\\\"filteredTasklets\\\"></app-calendar-grid-day>\\r\\n\"","module.exports = \"\"","import {ChangeDetectionStrategy, Component, Input, OnChanges, SimpleChanges} from '@angular/core';\r\nimport {Tasklet} from '../../../../core/entity/model/tasklet.model';\r\nimport {MatchService} from '../../../../core/entity/services/match.service';\r\n\r\n/**\r\n * Displays calender grid\r\n */\r\n@Component({\r\n  selector: 'app-calendar-grid',\r\n  templateUrl: './calendar-grid.component.html',\r\n  styleUrls: ['./calendar-grid.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class CalendarGridComponent implements OnChanges {\r\n\r\n  /** Focus day to be displayed */\r\n  @Input() focusDay = new Date();\r\n  /** Array of tasklets */\r\n  @Input() tasklets: Tasklet[] = [];\r\n\r\n  /** Tasklets that match focus day */\r\n  filteredTasklets: Tasklet[] = [];\r\n\r\n  //\r\n  // Lifecycle hooks\r\n  //\r\n\r\n  /**\r\n   * Handles on-changes lifecycle phase\r\n   */\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    this.filteredTasklets = this.tasklets.filter(tasklet => {\r\n      MatchService.taskletMatchesDate(tasklet, new Date(this.focusDay));\r\n    });\r\n  }\r\n}\r\n","module.exports = \"<p>\\r\\n  calendar-item works!\\r\\n</p>\\r\\n\"","module.exports = \"\"","import {ChangeDetectionStrategy, Component, Input} from '@angular/core';\r\nimport {Tasklet} from '../../../../core/entity/model/tasklet.model';\r\n\r\n/**\r\n * Displays calendar item\r\n */\r\n@Component({\r\n  selector: 'app-calendar-item',\r\n  templateUrl: './calendar-item.component.html',\r\n  styleUrls: ['./calendar-item.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class CalendarItemComponent {\r\n\r\n  /** Tasklet to be displayed */\r\n  @Input() tasklet: Tasklet;\r\n}\r\n","module.exports = \"<app-calendar-grid [focusDay]=\\\"focusDay\\\" [tasklets]=\\\"tasklets\\\"></app-calendar-grid>\\r\\n\"","module.exports = \"\"","import {Component, OnDestroy, OnInit} from '@angular/core';\r\nimport {takeUntil} from 'rxjs/internal/operators';\r\nimport {Tasklet} from '../../../../core/entity/model/tasklet.model';\r\nimport {TaskletService} from '../../../../core/entity/services/tasklet.service';\r\nimport {FilterService} from '../../../../core/entity/services/filter.service';\r\nimport {MatchService} from '../../../../core/entity/services/match.service';\r\nimport {Subject} from 'rxjs/Subject';\r\n\r\n/**\r\n * Displays calendar page\r\n */\r\n@Component({\r\n  selector: 'app-calendar',\r\n  templateUrl: './calendar.component.html',\r\n  styleUrls: ['./calendar.component.scss']\r\n})\r\nexport class CalendarComponent implements OnInit, OnDestroy {\r\n\r\n  /** Array of tasklets */\r\n  public tasklets: Tasklet[] = [];\r\n  /** Focus day to be displayed */\r\n  focusDay = new Date();\r\n\r\n  /** Helper subject used to finish other subscriptions */\r\n  private unsubscribeSubject = new Subject();\r\n\r\n  /**\r\n   * Constructor\r\n   * @param {TaskletService} taskletService tasklet service\r\n   * @param {MatchService} matchService match service\r\n   * @param {FilterService} filterService filter service\r\n   */\r\n  constructor(private taskletService: TaskletService,\r\n              private matchService: MatchService,\r\n              private filterService: FilterService) {\r\n  }\r\n\r\n  //\r\n  // Lifecycle hooks\r\n  //\r\n\r\n  /**\r\n   * Handles on-init lifecycle phase\r\n   */\r\n  ngOnInit() {\r\n    this.initializeTaskletSubscription();\r\n  }\r\n\r\n  /**\r\n   * Handles on-destroy lifecycle phase\r\n   */\r\n  ngOnDestroy() {\r\n    this.unsubscribeSubject.next();\r\n    this.unsubscribeSubject.complete();\r\n  }\r\n\r\n  //\r\n  // Initialization\r\n  //\r\n\r\n  /**\r\n   * Initializes tasklet subscription\r\n   */\r\n  private initializeTaskletSubscription() {\r\n    this.tasklets = Array.from(this.taskletService.tasklets.values());\r\n\r\n    this.taskletService.taskletsSubject.pipe(\r\n      takeUntil(this.unsubscribeSubject)\r\n    ).subscribe((value) => {\r\n      if (value != null) {\r\n        this.tasklets = (value as Tasklet[]).filter(tasklet => {\r\n          const matchesSearchItem = this.matchService.taskletMatchesEveryItem(tasklet, this.filterService.searchItem);\r\n          const matchesProjects = this.matchService.taskletMatchesProjects(tasklet,\r\n            Array.from(this.filterService.projects.values()),\r\n            this.filterService.projectsNone);\r\n\r\n          return matchesSearchItem && matchesProjects;\r\n        });\r\n      }\r\n    });\r\n  }\r\n}\r\n"],"sourceRoot":""}